Задание 1.
Создать таблицу CONTRACTS со следующими полями:
- ID договора (уникальный ключ);
- дата договора;
- номер телефона;
- дата создания;
- пользователь, создавший запись;
- дата обновления;
- пользователь, который обновил запись.
 
Уникальный ключ заполнять через sequences из тригера. Поля дата создания, дата обновления, автора/редактора заполнять через тригер.
 
Создать таблицу CONTRACT_COMMENT со следующими полями:
- уникальный ключ;
- ID договора;
- текст комментария к договору;
- дата создания;
- пользователь, создавший запись;
- дата обновления;
- пользователь, который обновил запись.
 
Уникальный ключ заполнять через sequences из тригера. Поля дата создания, дата обновления, автора/редактора заполнять через тригер.
 
Создать представление (views), отображающее информацию по комментариям на номерах (поля: номер телефона, дата договора, комментарий).
Создать представление (views), отображающее информацию по комментариям, договора которых были созданы на этой неделе. (поля номер телефона, дата договора, комментарий).
Создать представление (views), отображающее количество комментариев по каждому договору.
Создать представление (views), отображающее номера, чьи договора были созданы пользователем с фамилией "*ков".
 
Задача 2. (package.sql)


Реализовать пакет, в который добавить методы:
- добавления/обновления/удаления данных таблицы CONTRACT_COMMENT
- метод вывода количества договоров, по которым создано 2 и более комментария за текущий период.
 
Входные данные методов вставки и обновления: ID договора, текст комментария
Входные данные при удалении: ID договора
 
Используемые объекты:
CONTRACTS - договора
CONTRACT_COMMENT - информация по договорам
